<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet">

<div class="container mt-4">

  <h4 class="mb-3 text-primary fw-semibold">
    Search Product (Paging)
  </h4>

  <!-- SEARCH FORM -->
  <form action="/product/search-and-page" method="post"
        class="row g-2 align-items-end mb-4">

    <div class="col-md-4">
      <label class="form-label fw-semibold">Keyword</label>
      <input name="keywords"
             th:value="${keywords}"
             class="form-control"
             placeholder="Product name...">
    </div>

    <div class="col-md-2">
      <button class="btn btn-primary w-100">
        Search
      </button>
    </div>
  </form>

  <!-- RESULT TABLE -->
  <table class="table table-bordered table-hover align-middle shadow-sm">
    <thead class="table-primary text-center">
    <tr>
      <th>ID</th>
      <th>Name</th>
      <th class="text-end">Price</th>
    </tr>
    </thead>

    <tbody>
    <tr th:each="item : ${page.content}">
      <td th:text="${item.id}"></td>
      <td th:text="${item.name}"></td>
      <td class="text-end fw-semibold text-success"
          th:text="${#numbers.formatDecimal(item.price,0,'COMMA',0,'POINT')} + ' ₫'">
      </td>
    </tr>
    </tbody>
  </table>

  <!-- PAGINATION -->
  <nav class="mt-3">
    <ul class="pagination justify-content-center">

      <li class="page-item" th:classappend="${page.first}?'disabled'">
        <a class="page-link"
           th:href="@{|/product/search-and-page?p=0|}">
          First
        </a>
      </li>

      <li class="page-item" th:classappend="${page.first}?'disabled'">
        <a class="page-link"
           th:href="@{|/product/search-and-page?p=${page.number-1}|}">
          Prev
        </a>
      </li>

      <li class="page-item disabled">
                <span class="page-link">
                    Page [[${page.number + 1}]] / [[${page.totalPages}]]
                </span>
      </li>

      <li class="page-item" th:classappend="${page.last}?'disabled'">
        <a class="page-link"
           th:href="@{|/product/search-and-page?p=${page.number+1}|}">
          Next
        </a>
      </li>

      <li class="page-item" th:classappend="${page.last}?'disabled'">
        <a class="page-link"
           th:href="@{|/product/search-and-page?p=${page.totalPages-1}|}">
          Last
        </a>
      </li>

    </ul>
  </nav>

  <!-- PAGE INFO -->
  <ul class="list-group mt-3">
    <li class="list-group-item">
      <b>Số sản phẩm trang này:</b> [[${page.numberOfElements}]]
    </li>
    <li class="list-group-item">
      <b>Trang hiện tại:</b> [[${page.number + 1}]]
    </li>
    <li class="list-group-item">
      <b>Tổng số sản phẩm:</b> [[${page.totalElements}]]
    </li>
  </ul>

</div>
